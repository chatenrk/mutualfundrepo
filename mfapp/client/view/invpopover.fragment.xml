<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form">
  <Popover title="{manageinv_model>sname}" class="sapUiPopupWithPadding" placement="Right" initialFocus="copy" contentWidth="40%" contentHeight="75%">
    <footer>
      <Toolbar>
        <ToolbarSpacer/>
        <Button id="copy" icon="sap-icon://copy" press="handleCopyRow" visible="false" />
        <Button id="delete" icon="sap-icon://delete" press="handleDeleteRow" visible="false" />
        <Button id="save" icon="sap-icon://save" press="handleSave" visible="false"/>
        <Button id="close" icon="sap-icon://decline" press="handleClose"/>
      </Toolbar>
    </footer>
    <content>
      <VBox class="sapUiSmallMargin" id="dispVBox">
        <f:Form id="invDetailsForm" editable="false">
          <f:title>
            <core:Title text="{i18n>invDisp}"/>
          </f:title>
          <f:layout>
            <f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"/>
          </f:layout>
          <f:formContainers>
            <f:FormContainer>
              <f:formElements>
                <f:FormElement label="Scheme Name" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>sname}" id="sname"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Transaction" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>transaction}" id="transaction"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Investment Date" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>invdatefmtd}"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Amount" design="Bold">
                  <f:fields>
                    <Text text="{manageinv_model>amount}" id="amount"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Invested For" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>invFor}" id="invFor"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Remarks" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>remarks}" id="remarks"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Asset Type" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>assetType}" id="assetType"/>
                  </f:fields>
                </f:FormElement>
              </f:formElements>
            </f:FormContainer>
          </f:formContainers>
        </f:Form>
      </VBox>


      <VBox class="sapUiSmallMargin" id="changeVBox">
        <f:Form id="invChangeForm" editable="true">
          <f:title>
            <core:Title text="{i18n>invChg}"/>
          </f:title>

          <f:layout>
            <f:ResponsiveGridLayout labelSpanXL="3" labelSpanL="3" labelSpanM="3" labelSpanS="12" adjustLabelSpan="false" emptySpanXL="4" emptySpanL="4" emptySpanM="4" emptySpanS="0" columnsXL="1" columnsL="1" columnsM="1" singleContainerFullSize="false"/>
          </f:layout>

          <f:formContainers>
            <f:FormContainer>
              <f:formElements>

                <!-- Scheme name for copy. This is not editable -->
                <f:FormElement label="Scheme Name" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>sname}"/>
                  </f:fields>
                </f:FormElement>

                <!-- Transaction type for copy. This is not editable -->
                <f:FormElement label="Transaction" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Text text="{manageinv_model>transaction}"/>
                  </f:fields>
                </f:FormElement>

                <!-- Date of investment -->
                <f:FormElement label="Investment Date" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <DatePicker id="mfinvdate1" value="{manageinv_model>invdatefmtd}" displayFormat="dd-MMM-yyyy" valueFormat="yyyy-MM-dd" change="handleChange"/>
                  </f:fields>
                </f:FormElement>

                <!-- Amount of investment -->
                <f:FormElement label="Amount" design="Bold">
                  <f:fields>
                    <Input value="{manageinv_model>amount}"/>
                  </f:fields>
                </f:FormElement>

                <!-- Investment Goal -->
                <f:FormElement label="Invested For" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <ComboBox id="cbinvfor" width="300px" items="{mfinvfor_model>/invFor}" selectionChange="onInvForChange">
                      <items>
                        <core:Item key="{mfinvfor_model>key}" text="{mfinvfor_model>text}"/>
                      </items>
                    </ComboBox>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Remarks" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <Input value="{manageinv_model>remarks}"/>
                  </f:fields>
                </f:FormElement>

                <f:FormElement label="Asset Type" design="sap.m.LabelDesign.Bold">
                  <f:fields>
                    <ComboBox id="cbassettype" width="100px" items="{mfinvfor_model>/assetType}" selectionChange="onAssetTypeChange">
                      <items>
                        <core:Item key="{mfinvfor_model>key}" text="{mfinvfor_model>text}"/>
                      </items>
                    </ComboBox>
                  </f:fields>
                </f:FormElement>

              </f:formElements>
            </f:FormContainer>
          </f:formContainers>

        </f:Form>
      </VBox>
    </content>
  </Popover>
</core:FragmentDefinition>
